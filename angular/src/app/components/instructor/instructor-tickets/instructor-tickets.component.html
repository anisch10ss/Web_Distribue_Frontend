<!-- <div class="settings-top-widget">
    <div class="row">
        <div class="col-lg-4 col-md-6">
            <div class="card stat-info ttl-tickets">
                <div class="card-body">
                    <img src="assets/img/students/ticket-total.svg" alt="Total Tickets">
                    <h3>50</h3>
                    <p>Total Tickets</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="card stat-info open-tickets">
                <div class="card-body">
                    <img src="assets/img/students/ticket-open.svg" alt="Open Tickets">
                    <h3>30</h3>
                    <p>Open Tickets</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="card stat-info close-tickets">
                <div class="card-body">
                    <img src="assets/img/students/ticket-close.svg" alt="Close Tickets">
                    <h3>20</h3>
                    <p>Close Tickets</p>
                </div>
            </div>
        </div>
    </div>
</div> -->
<div class="settings-widget">
  <div class="settings-inner-blk p-0">
    <div class="comman-space pb-0">
      <div
        class="filter-grp ticket-grp d-flex align-items-center justify-content-between"
      >
        <div>
          <h3>Support Tickets</h3>
          <p>You can find all of your customer feedback & complaints.</p>
        </div>
        <div class="ticket-btn-grp">
          <a [routerLink]="routes.feedback">Add New Ticket</a>
        </div>
      </div>

      <!-- Ticket Tab -->
      <div class="category-tab tickets-tab-blk">
        <ul class="nav nav-justified">
          <li class="nav-item">
            <a href="#all" class="nav-link active" data-bs-toggle="tab">All</a>
          </li>
          <li class="nav-item">
            <a href="#feedback" class="nav-link" data-bs-toggle="tab"
              >Feedback</a
            >
          </li>
          <li class="nav-item">
            <a href="#complaint" class="nav-link" data-bs-toggle="tab"
              >Complaint</a
            >
          </li>
        </ul>
      </div>
      <!-- /Ticket Tab -->

      <!-- Referred Ticket List -->
      <div class="tab-content">
        <div class="tab-pane fade show active" id="all">
          <div class="settings-tickets-blk table-responsive">
            <!-- Referred Users-->
            <table class="table table-nowrap mb-0">
              <thead>
                <tr>
                  <th>Subject</th>
                  <th>Description</th>
                  <th>Type</th>
                  <th>Send Mail</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of all; let j = index">
                  <td class="px-3">
                    <span
                      [ngClass]="{
                        'info-high badge text-center':
                          data.type === 'reclamation'
                      }"
                      >{{ data.subject }}</span
                    >
                  </td>
                  <td class="px-3">
                    <span>{{ data.description }}</span>
                  </td>
                  <td class="px-3">
                    <span
                      [ngClass]="{
                        'info-low': data.type === 'feedback',
                        'info-high': data.type === 'reclamation'
                      }"
                      class="badge info-high"
                      >{{ data.type | titlecase }}</span
                    >
                  </td>
                  <td *ngIf="data.type === 'reclamation'">
                    <button
                      (click)="sendMailFromAll(j)"
                      class="btn btn-three-secondary sub-btn mx-3"
                    >
                      <i class="fas fa-envelope"></i>
                    </button>
                    <span *ngIf="allCouponsSent[j]">Coupon sent!</span>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- /Referred Users-->
          </div>
        </div>

        <div class="tab-pane fade show" id="feedback">
          <div class="settings-tickets-blk table-responsive">
            <!-- Referred Users-->
            <table class="table table-nowrap mb-0">
              <thead>
                <tr>
                  <th>Subject</th>
                  <th>Description</th>
                  <th>Type</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of feedbacks">
                  <td class="px-3">
                    <span>{{ data.subject }}</span>
                  </td>
                  <td class="px-3">
                    <span>{{ data.description }}</span>
                  </td>
                  <td class="px-3">
                    <span
                      [ngClass]="{
                        'info-low': data.type === 'feedback',
                        'info-high': data.type === 'reclamation'
                      }"
                      class="badge info-high"
                      >{{ data.type | titlecase }}</span
                    >
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- /Referred Users-->
          </div>
        </div>
        <div class="tab-pane fade show" id="complaint">
          <div class="settings-tickets-blk table-responsive">
            <!-- Referred Users-->
            <table class="table table-nowrap mb-0">
              <thead>
                <tr>
                  <th>Subject</th>
                  <th>Description</th>
                  <th>Type</th>
                  <th>Send Mail</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of complaints; let j = index">
                  <td class="px-3">
                    <span class="info-high badge text-center">{{
                      data.etat
                    }}</span>
                  </td>
                  <td class="px-3">
                    <span>{{ data.contenu }}</span>
                  </td>
                  <td class="px-3">
                    <span class="badge info-high">{{
                      "complaint" | titlecase
                    }}</span>
                  </td>
                  <td>
                    <button
                      (click)="sendMail(j)"
                      class="btn btn-three-secondary sub-btn mx-3"
                    >
                      <i class="fas fa-envelope"></i>
                    </button>
                    <span *ngIf="complaintsCouponsSent[j]">Coupon sent!</span>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- /Referred Users-->
          </div>
        </div>
      </div>
      <!-- Referred Ticket List -->
    </div>
  </div>
</div>
